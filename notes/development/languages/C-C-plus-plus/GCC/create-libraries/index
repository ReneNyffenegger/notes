$ Creating libraries with GCC


{ tq84.h

  gh|cpp-create-library|/tq84.h||

}
{ tq84.c

  gh|cpp-create-library|/tq84.c||

}
{ Create the object files

  gh|cpp-create-library|/object-files||

}
{ Link statically

  gh|cpp-create-library|/link-statically||

}
{ Create the shared library

  Without SONAME

  gh|cpp-create-library|/shared-library||

}
{ Link dynamically with the shared library

  gh|cpp-create-library|/link-dynamically||

}
{ Use the shared library with LD_LIBRARY_PATH

  gh|cpp-create-library|/use-shared-library-LD_LIBRARY_PATH||

}
{ Move the shared library to a default location

  gh|cpp-create-library|/move-shared-object||

}
{ Use the shared library in a default location

  gh|cpp-create-library|/use-shared-library-no-LD_LIBRARY_PATH||

}
{ Use dlopen() etc to dynamically load the library

  gh|cpp-create-library|/dlopen.c||

  gh|cpp-create-library|/create-dlopen||

}
{ Create a SONAME shared library

  gh|cpp-create-library|/create-soname-library||

}
{ Link with the SONAME shared library

  gh|cpp-create-library|/link-soname-library||

}
{ Install the SONAME library

  gh|cpp-create-library|/install-soname-library||

}
{ Using LD_DEBUG

  gh|cpp-create-library|/LD_DEBUG||

}
{ Difference between -fPIC and without -fPIC

  gh|cpp-create-library|/show-difference-PIC||

}
{ readelf reloc

  gh|cpp-create-library|/readelf-relocs||

}
{ List symbols in object files

  gh|cpp-create-library|/list-symbols||

}


{ TODO


  Linker option `-soname` (`-Wl,-soname,libtq84.so.1`)


  `objdump -p $EXECUTABLE | grep NEEDED`

  `readelf`

}

sa:
  → Linux/fhs/etc/ld_so_cache
  -
  → Linux/fhs/etc/ld_so_conf
  -
  → Linux/fhs/etc/ld_so_conf_d

