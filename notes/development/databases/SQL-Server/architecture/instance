$ SQL Server instance
@ instance

A computer (or generally an → development/databases/SQL-Server installation) can have zero, one or more instances of → development/databases/SQL-Server[SQL Server] installed.

An instance contains one or more → development/databases/SQL-Server/administration/database[databases].

System level information about an instance is recorded in the *master* → development/databases/SQL-Server/administration/system-databases[system database].

Each instance is a → Windows/services[Windows service] that runs (a seperate copy) of → Windows/dirs/Program-Files/Microsoft-SQL-Server/MSSQLnn_INSTANCENAME/MSSQL/Binn/sqlservr_exe[`sqlservr.exe`].

{ Default instances

  One of the instances that are running on a computer can be the *default* instance.

  A default instance has no name.

  When a client tries to connect to a computer without specifying an instance name, it will be connected to the default instance.

}

{ Instance IDs #mssql-instance-id

  During SQL Server Setup, an instance ID is generated for each *server component*.

  The (default) instance ID is a combination of
    • *ID Prefix*,
    • a two digit → development/databases/SQL-Server/versions[version] code,
    • an optional underscore and minor version,
    • a dot (`.`)
    • an instance name.

  SQL Server 2017, for example, comes with the following three components
  table { ll
    ~Component~ ☰ ~ID Prefix~
    Database Engine ☰ `MSSQL`
    Analysis Services ☰ `MSAS`
    Reporting Services ☰ `MSRS`
  table }

  Examples IDs:
    • `MSSQL14.MSSQLSERVER` is the default instance of SQL Server 2017
    • `MSSQL14.TQ84` is a named instance of SQL Server 2017

  The name of an instance id appears in an SQL Server's directory structure under
  → Windows/dirs/Program-Files/Microsoft-SQL-Server/instance-id[`%programfiles%\Microsoft SQL Server\instance-id`].

  This name also appears in the → Windows/registry under the → Windows/registry/tree-structure/key[key]
  → Windows/registry/tree/HKEY_LOCAL_MACHINE/Software/Microsoft/Microsoft-SQL-Server/INSTANCE_ID[`HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\INSTANCE_ID`].

  The registry key → Windows/registry/tree/HKEY_LOCAL_MACHINE/Software/Microsoft/Microsoft-SQL-Server/Instance-Names[`HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\Instance Names`] maintains
  a mapping from instance IDs to *instance names*.


}
{ Service names

  An SQL server instance is tied to a → Windows/services[service].

  The default name for a service is `MSSQLSERVER`. A named instance's service name is `MSSQL*instancename`.

}
{ Connecting to another instance with sqlcmd

  The `-S` flag of → development/databases/SQL-Server/tools-utilities/sqlcmd allows to specify the instance to which one wants to connect

code {
c:\> → development/databases/SQL-Server/tools-utilities/sqlcmd -S Hostname/InstanceName
code }

  Within a running sqlcmd → development/databases/SQL-Server/architecture/session[session], the → development/databases/SQL-Server/tools-utilities/sqlcmd#connect[`:connect`] command can be used.

}
{ Identifying process of an instance

  The process (`sqlsrvr.exe`) that is related to an instance can be queried with → development/databases/SQL-Server/T-SQL/functions/serverproperty[`serverproperty('ProcessID')`].

}

sa:
  → development/databases/SQL-Server/architecture/

  Compare with the → development/databases/Oracle/architecture/instance[Oracle instance].
