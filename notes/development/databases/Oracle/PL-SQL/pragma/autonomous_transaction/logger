$ Oracle PL/SQL: Logger procedure with PRAGMA AUTONOMOUS_TRANSACTION

{ Log Table

code {
create table tq84_log_table (
   txt     varchar2(4000)    not null,
   id      number(10)        → development/databases/Oracle/objects/tables/columns/identity[generated by default on null as identity] primary key,
   ts      → development/databases/Oracle/SQL/data-types/timestamp         default → development/databases/Oracle/SQL/functions/date/systimestamp
);
code }

}
{ Logging Procedure

code {
create or replace procedure tq84_log(t varchar2) as
   → development/databases/Oracle/PL-SQL/pragma/autonomous_transaction
begin
   insert into tq84_log_table(txt) values (t);
   commit;
end tq84_log;
/
code }

}
{ Log View

code {
create or replace view tq84_log_view as
select
   txt,
   extract(day    from (→ development/databases/Oracle/SQL/functions/date/systimestamp - ts)) days_ago   ,
   extract(hour   from (→ development/databases/Oracle/SQL/functions/date/systimestamp - ts)) hours_ago  ,
   extract(minute from (→ development/databases/Oracle/SQL/functions/date/systimestamp - ts)) minutes_ago,
   extract(second from (→ development/databases/Oracle/SQL/functions/date/systimestamp - ts)) seconcs_ago,
   id
from
   tq84_log_table
order by
   id desc;
code }

}
{ Cleaning up

code {
drop view      tq84_log_view;
drop table     tq84_log_table;
drop procedure tq84_log;
code }

}

sa:
 `→ development/databases/Oracle/PL-SQL/pragma/autonomous_transaction`

 → development/log-files[Log files]
