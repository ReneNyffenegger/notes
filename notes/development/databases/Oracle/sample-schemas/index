$ Oracle: Sample schemas
@ sample schemas

Oracle maintains a few *sample schemas* which are used in Oracle's documentation to demonstrate features and concepts of SQL and the database in general.

These schemas are described in → https://docs.oracle.com/en/database/oracle/oracle-database/21/comsc/index.html[Oracle online database documentation (21c)] and
can be → development/version-control-systems/git/commands[cloned] from the github repository → https://github.com/oracle/db-sample-schemas[sample schemas on github].
-
The sample schemas are also supposed to be found under
`→ Linux/fhs/u01/app/oracle/product/vv-v-v/dbhome_n[$ORACLE_HOME]/demo/schema`, but I only found
`→ Linux/fhs/u01/app/oracle/product/vv-v-v/dbhome_n/demo/schema/human_resources`.

Oracle's sample schemas are:
table { lll
   BI ☰ → Business/intelligence ☰
   HR ☰ Human Resources ☰ Among the sample schemas, the HR schema is the smallest and most sipmle one. See also `→ Linux/fhs/u01/app/oracle/product/vv-v-v/dbhome_n/demo/schema/human_resources`
   IX ☰ Information Exchange ☰
   OE ☰ Order Entry ☰ Needs MDSYS to be installed.
   PM ☰ Product Media ☰
   SH ☰ Sales History ☰
table }

Some schemas are dependent on other schemas; they need to be installed in alphabetical order.

{ Cloning the github repository

code {
$ → development/version-control-systems/git/commands/clone[git clone] https://github.com/oracle/db-sample-schemas.git
$ cd db-sample-schemas
$ → development/version-control-systems/git/commands/tag
v12.1.0.2
v12.2.0.1
v18c
v19.2
v19c
v21.1
$ → development/version-control-systems/git/commands/switch --detach v19c
code }

}
{ Installing the schemas

  Use Perl for → development/languages/Perl/in-place-editing[in place editing]: `__SUB__CWD__` must be replaced with the current directory.
  -
  Note that a perl interpreter is installed under `→ Linux/fhs/u01/app/oracle/product/vv-v-v/dbhome_n/perl`.

  I use `-Mopen="IO,:raw" to → https://stackoverflow.com/a/71337274/180275[preserve Unix line endings] in the files.

  { PowerShell
code {
PS> perl.exe -Mopen="IO,:raw" -i'.bak' -p -e "s#__SUB__CWD__#$($pwd -replace '\\', '\\')#g" (get-childItem *.sql,*/*.sql,*/*.dat)
code }

   Remove .bak files:
code {
PS> get-childItem -re *.bak | % { rm $_}
code }

rem {
   Change line endings back to Unix:
code {
get-childItem *.sql,*/*.sql,*/*.dat | % {
   [IO.File]::WriteAllText( $_, [IO.File]::ReadAllText($_) -replace ("`r`n", "`n"))
}
code }
rem }

  }
  { Make sure the Oracle environment is correct

    Linux/Unix shell:
code {
$ source → Linux/fhs/usr/local/bin/oraenv[/usr/local/bin/oraenv]
code }

  }
  { Install

    Run the `mksample.sql` script in → development/databases/Oracle/SQL-Plus. This script creates all 5 sample schemas. If any of those schemas already exists, they will be dropped first.

    If enabled, consider disabling → development/databases/Oracle/adminstration/init-parameters/plsql_warnings[`plsql_warnings`] in order to focus on error messages and not be distracted
    by warnings.

code {
rem mkdir log
→ development/databases/Oracle/SQL-Plus[sqlplus] system/iAmSystem
SQL> → development/databases/Oracle/SQL/statement/nouns/session/set/init-param[alter session set] plsql_warnings = 'disable:all';
SQL> @mksample iAmSystem iAmSysdba hrPw oePw pmPw ixPw shPw biPw DATA TEMP log ora19
code }

  }

}

sa:

  → Linux/fhs/u01/app/oracle/product/vv-v-v/dbhome_n/rdbms/admin/utlsampl_sql[`$ORACLE_HOME/rdbms/admin/utlsampl.sql`] creates the sample schema `SCOTT` with the tables
  `EMP`, `DEPT`, `SALGRADE` and `BONUS`.
