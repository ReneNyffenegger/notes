$ Oracle SQL: LISTAGG
@ listagg

`listagg` is → development/databases/Oracle/SQL/select/aggregate[aggregate function] that allows to concatenate values of different records that belong to the same group into *one* record.

code {
select
   …
   LISTAGG(expr [, separator])
     [ overflow-clause                 ]
     [ WITHIN GROUP (order by xyz)     ]
     [ OVER ( query partition clause ) ]
   …
from
   …
→ development/databases/Oracle/SQL/select/group-by
   expr
code }

`listagg` is defined in the → misc/ISO/9075/features/T625[optional SQL feature T625].

→ development/databases/Oracle/Releases-and-versions/19c improves `listagg` with a `distinct` clause.

{ Example

  gh|Oracle-Patterns|/SQL/select/group_by/listagg.sql||

  The result of the query is
code {
ID TXT_
-- ----------------------
1  eins-one-un
2  duo-two
3  drei-three-tres-trois
code }

}
{ ORA-01489: result of string concatenation is too long

 `listagg` can only return up to 4000 characters so that the following statement results in an
 *ORA-01489: result of string concatenation is too long* error:
code {
select
   listagg(level, '-')
from
   dual connect by level < 1023;
code }

  Such errors can be omitted with the *listagg overflow clause*:
code {
select
   listagg(level, '-' on overflow truncate '...' without count)
from
   dual connect by level < 1023;
code }

}

sa:
  `listagg` being used to → development/databases/Oracle/installed/data-dictionary/ind/columns/columns-of-index#dba_ind_columns-listagg[concatenate the column names] of
  → development/databases/Oracle/objects/indexes[indexes].
