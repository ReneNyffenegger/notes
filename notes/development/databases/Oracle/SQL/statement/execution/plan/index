$ Oracle: SQL execution plan

An *execution plan* consists of the required steps and their dependency among each other that is needed to → development/databases/Oracle/SQL/statement/execution[execute] an
→ development/databases/Oracle/SQL/statement[SQL statement].

The execution plan is stored in the → development/databases/Oracle/architecture/instance/SGA/Shared-Pool/library-cache/Shared-SQL-Area.

{ Optimizer

  The → development/databases/Oracle/optimizer[optimizer's] main goal is to generate the optimal execution plan for SQL statements.

? The optimizer manages execution plans with *SQL plan management*.

}
{ Optimizer statistics

  When the optimzer formulates a plan, it bases its decision on statistical numbers, commonly referred to as *optimizer statistics*.

  Such statistical numbers include:
    • Table related statistics such as numbers of rows
    • Column statistics such as number of nulls
    • Index related statistics such as B-tree levels
    • System statistics such as CPU and I/O performance 


}
{ Hints

  → development/databases/Oracle/SQL/hints[Hints] allow a developer to override the execution plan that Oracle would have chosen otherwise.

}

{ Adaptive query optimazation #ora-adaptive-exec-plan

 *Adaptive query optimization* makes it possible for the statement executor to adjust an execution plan at runtime.

  Adaptive query optimization complements using statistics when generating an optimal plan for an SQL statement.

  The optimizer chooses an adaptive plan when the SQL statement's joins and predicates reach a level of complexity that make an accurate cardinality estimation difficult if not impossible.
  -
  In such a case, the optimizer injects a → development/databases/Oracle/SQL/statement/execution/plan/operations[`statistics collector` operation] into its chosen plan.

  In order to see all operations of an adaptive plan with → development/databases/Oracle/installed/packages/dbms/xplan#dbms_xplan-display_cursor[`xplan.display_cursor`], the `format` parameter
  must include `adaptive`:
code {
select * from table(dbms_xplan.display_cursor(format => 'adaptive'));
code }

  Adaptive plan generation can be turned of using → development/databases/Oracle/SQL/hints[`opt_param` hint] like so: `opt_param('_optimizer_adaptive_plans', 'false')`.

}

sa:

  → development/databases/Oracle/SQL/statement/execution/plan/operations[Operations]

  → development/databases/Oracle/installed/dynamic-performance-views/sql/plan[`v$sql_plan`].

  → development/databases/Oracle/installed/packages/dbms/xplan[`dbms_xplan`]

  The → development/databases/Oracle/architecture/database/system-files/Automatic-Diagnostic-Repository/trace-file#ora-trace-file-STAT[`STAT`] lines in a
  → development/databases/Oracle/architecture/database/system-files/Automatic-Diagnostic-Repository/trace-file[trace file].

  The fixed tables → development/databases/Oracle/architecture/instance/fixed-tables/xplton-xpltoo[`x$xplton`, `x$xpltoo`] and
  → development/databases/Oracle/architecture/instance/fixed-tables/k/q/lf/xpl[`x$kqlfxpl`].
