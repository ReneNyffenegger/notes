$ Windows security identifiers (SID)

A SID is a variable-length numeric value with the following parts:
  • `R`: structure revision number (Always 1)
  • `A`: authority value (48 bits), which identifies the issuer and owner of the SID (usually a local Windows system or a domain)
  • `S₁`, `S₂` … `Sₙ`: a list of subauthority identifiers, each 32 bit.

The last subauthority identifier (`Sₙ`) is the *relative identifier* (RID).
-
The subauthority identifiers except the relative identifier identify a domain.

When represented as string, the SID starts with `S-` and the parts are separated by a hyphen (thus it becomes something like
`S-R-A-S₁-S₂-S₃-S₄`)

A name is just a more readable representation of a SID. The Sysinternal tool → https://docs.microsoft.com/en-us/sysinternals/downloads/psgetsid[PsGetSid] is able to translate between
SIDs and names.

Windows recognizes users (and his → Windows/development/process[processes]) and other *security principals* by the user's SID.

SIDs are fundamental for Windows security.

{ Authorities

  The authority value identifies they system that owns the SID.

  0 (`SECURITY_NULL_SID_AUTHORITY`) is the owner of the *null account SID* `S-1-0-0`.

  1 (`SECURITY_WORLD_SID_AUTHORITY`, *everyone group*) also has one SID only: `S-1-1-0`.

  2 (`SECURITY_LOCAL_SID_AUTHORITY`, *local group*) also has one SID only: `S-1-2-0`.

  3 (`SECURITY_CREATOR_SID_AUTHORITY`): SIDs `S-1-3-0` through `S-1-3-5`)

  4 (`SECURITY_NON_UNIQUE_AUTHORITY`) is not used

  5 (`SECURITY_NT_AUTHORITY`) owns → Windows/user-account[accounts] that are managed by the NT security subsystem.

  9 (`SECURITY_RESOURCE_MANAGER_AUTHORITY`) …

}
{ User accounts

  The SIDs of → Windows/user-account[user accounts] always start with `S-1-5-21-…` and has an RID that is greater or equal to 1000.

  A user can query her SID with
code {
→ Windows/dirs/Windows/System32/whoami_exe#win-whoami-user[whoami] /user
code }

}
{ Relative identifiers (RIDs)

  An *administrator* always has an RID of 500.

}
{ Well known SIDs

  Each user's SIDs is unique accross all Windows installations.
  -
  That said, there are *well known SIDs*:
    • `S-1-0-0`: The *null SID*
    • `S-1-1-0`: World, which is the group that *all* → Windows/user-account[users] belong to.
    • `S-1-2-0`: *Local*
    • `S-1-2-1`: *Console Logon*
    • `S-1-3-0`: *Creator owner id*
    • `S-1-3-1`: *Creator group id*
    • `S-1-3-2`: *Creator owner server*
    • `S-1-3-3`: *Creator owner group*
    • `S-1-3-4`: *Owner rights*
    • `S-1-4`: *Non unique Authority*
    • `S-1-5`: *NT Authority*
    • `S-1-5-18`: *Local System*
    • `S-1-5-19`: *Local Service*
    • `S-1-5-20`: *Network Service*
    • `S-1-5-5-x-y`: a *logon → Windows/development/session[session]*. x and y are randomly generated. See `→ Windows/dirs/Windows/System32/whoami_exe#win-whoami-logonid[whoami /logonid]`.
    • `S-1-5-80`: *all → Windows/services[services]*
    • `S-1-5-18`: The SID for the *local system account*.
    • `S-1-5-32-546`: The *Guests group*


}

sa:
  The computer's SID is stored in the → Windows/registry[registry] under → Windows/registry/tree/HKEY_LOCAL_MACHINE/SECURITY/SAM/Domains/Account[`HKEY_LOCAL_MACHINE\SECURITY\SAM\Domains\Account`]

  The authority 16 identifies a process's → Windows/development/process#win-process-integrity-level[integrity level].

  → Windows/development/WinAPI/data-types#winnt-h-SID[winnt.h]
