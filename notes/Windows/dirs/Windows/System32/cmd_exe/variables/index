$ cmd.exe: variables


{ Enabling delayed expansion

  gh|about-cmd.exe|/variables/expansion/enabledelayedexpansion.bat||

}
{ Variable expansion

  In a → Windows/dirs/Windows/System32/cmd_exe/batch-files[batch file], `%0` stores the (relative) path and name of the batch file.

  Applying `~n` and `~x` gets the filename (with suffix) of the batch file:
  gh|about-cmd.exe|/variables/expansion/name-of-bat-file.bat||

  Similarly, the (absolute) directory can be found by applying `~dp` on a variable:
  gh|about-cmd.exe|/variables/expansion/current-directory.bat||

}

{ Pseudo variables

  Some variables store dynamic values:
    • `%CD%`
    • `%__CD__%` (`%CD%` with a trailing back-slash)
    • `%DATE%`
    • `%TIME%`
    • `%ERRORLEVEL%`
    • `%RANDOM%`
    • `%CMDEXTVERSION%`
    • → Windows/dirs/Windows/System32/cmd_exe/variables/CmdCmdLine[`%CMDCMDLINE%`] stores how → Windows/dirs/Windows/System32/cmd_exe[cmd.exe] was invoked (→ Windows/dirs/Windows/System32/cmd_exe#cmd-exe-options[options] and commands).
    • `%NUMBER_OF_PROCESSORS%`
    • `%FIRMWARE_TYPE%` (which might contain the value → hardware/UEFI[UEFI]).
    • `%USERDOMAIN_ROAMINGPROFILE%`


}
{ Undocumented variables

  Some variables are undocumented:
    • `%=ExitCode%`
    • `%=ExitCodeAscii%` (?)
    • `%=C:`
    • `%__APPDIR__%` (Directory where executable is located that queried this variable)

  For `%__CD__%` and `%__APPDIR__%`, see the function `RtlQueryEnvironmentVariable_U` in → Windows/dirs/Windows/System32/ntdll_dll[`ntdll.dll`].

}


sa:

  The special variables → Windows/dirs/Windows/System32/cmd_exe/batch-files/arguments[`%1`, `%2` etc, `%*` and `%0`] in → Windows/dirs/Windows/System32/cmd_exe/batch-files[batch files].

  Using the → Windows/dirs/Windows/System32/cmd_exe/variables/tilde[tilde (`~`)] and the → Windows/dirs/Windows/System32/cmd_exe/variables/colon[colon] in variables.

  → Windows/dirs/Windows/System32/cmd_exe/variables/delayed-expansion[Delayed variable expansion]

  → Windows/dirs/Windows/System32/cmd_exe/variables/CmdCmdLine[`%CmdCmdLine%`]
