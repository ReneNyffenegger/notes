$ WinAPI: Definition of TCHAR and TEXT depending on UNICODE

When including `<windows.h>` (or more accuratly, when including `<winnt.h>`), the → development/languages/C-C-plus-plus/preprocessor[preprocessor] defines the
→ development/languages/C-C-plus-plus/preprocessor/macros[macros] `TCHAR` and `TEXT` depending on the defined value of `UNICODE`.



code {
typedef wchar_t WCHAR;

#ifdef  UNICODE

   typedef WCHAR TCHAR, *PTCHAR;
   #define __TEXT(quote) L##quote

#else

   typedef char TCHAR, *PTCHAR;
   #define __TEXT(quote) quote

#endif

#define TEXT(quote) __TEXT(quote)
code }


This makes it possible to use the same source code when compiling for ansi or wide character targets (See → Windows/development/WinAPI/A-and-W-functions[WinAPI: `A` and `W` functions].)

{ _UNICODE

  While `UNICODE` is used to direct → Windows/development/WinAPI[WinAPI] functions, the macro `_UNICODE` is used for a similar purpose for
  standard C functions (such as → development/languages/C-C-plus-plus/C/libc/functions/printf[`printf`] or → development/languages/C-C-plus-plus/C/libc/functions/open[`fopen`]).

}

sa:
  → Windows/development/WinAPI/data-types

  The GCC option → development/languages/C-C-plus-plus/GCC/options/m_lowercase/unicode[`-municode`].
