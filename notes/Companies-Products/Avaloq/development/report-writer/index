$ Avaloq: report writer

With *report writer*, it's possible to create reports for paper and screen.

{ Report definition

  A report definition consists of a
    • Hierarchical datamart definition (aka report datamart)
    • Layout definition

}
{ Flat data marts

  A → Companies-Products/Avaloq/tasks[task] that is used for report writer is associated with at least one *flat datamart definition*.
  -
  This definition specifies the data (fields etc.) that the task returns. This data is the (non-normalized) basis for the report.

  The flat datamart itself is defined by a → Companies-Products/Avaloq/development/DDIC[DDIC] (such as `dtm_pos_list`).

}
{ Hierarchical datamart definition

  The hiarachical datamart definition specifies how the data returned by the flat data mart needs to be consolidated (grouped and sorted)
  and aggregated (sums, counts etc.)

  Apparently, Avaloq calls a hierarchical datamart *report datamart*.

}
{ Layout definitions

  The layout definition specifies how the data that is prepared by the hierarchical datamart will be displayed.jw

  A layout definition is a → Companies-Products/Avaloq/development/sources[source] of one of the following → Companies-Products/Avaloq/development/tables/code/src/type[source types]:
    • REP SCREEN (Report is displayed in → Companies-Products/Avaloq/SmartClient).
    • REP PRINT (produces → development/languages/PostScript)
    • REP FILE
    • REP SCRIPT (which creates an executable → Companies-Products/Avaloq/development/Avaloq-script[script]).
    • REP TABLE (usually to create a → Companies-Products/Avaloq/pillars[pillar]).

}
{ Example script

code {
[Report 2.0]

report task_pos_list.pos  

naming dfltlang 'Position list by name'

print layout
      format A4
      orientation landscape
      border left 20 top 20 bottom 20 right 20
      font 'Arial' 9
      …

      on column head
         …

      on report head
         font 'Arial-Bold' 9

      if top.seq_nr is null then -- No data found
         column left session.text('LABEL.NO_DATA_FOUND');
      else
         column left rep_lib.title(task_exec);
      end if;

      linefeed
      pagepbreak

end layout
end report
code }

}

{ TODO

  To create a report with report writer, apparently a datamart → Companies-Products/Avaloq/development/DDIC[DDIC] is needed.

  → Companies-Products/Avaloq/development/tables[Table] `code_cons_fct` lists consolidation functions. User defined functions can apparently be added.jw

}
