<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Perl module DBD::CSV</title>
<link rel="stylesheet" type="text/css" href="file:///home/rene/github/github/notes/out.html//notes.css">
<script src='file:///home/rene/github/github/notes/out.html//q.js'></script>
</head>
<body>
Search notes: <input size='50' id='q' onchange='q();'>
<h1>Perl module DBD::CSV</h1>
<div class='t'>
</div><div class='ghf'>Github respository <a href='https://github.com/ReneNyffenegger/PerlModules'>PerlModules</a>, path: <a href='https://github.com/ReneNyffenegger/PerlModules/blob/master//DBD/CSV/script.pl'>/DBD/CSV/script.pl</a></div><pre class='code'>use warnings;
use strict;
use Lingua::EN::Numbers qw(num2en num2en_ordinal);
use DBI;
use feature 'say';



my $db_dir = ".";

my $dbh = DBI->connect ("dbi:CSV:", "", "", { f_dir => $db_dir });

#
#   For valid datatypes see SQL::Dialects::CSV->get_config().
#

$dbh -> do ("create table csv_table (id integer, txt varchar(10), num real, blb blob)");

$dbh -> do ("insert into csv_table (id) values (1)");
$dbh -> do ("insert into csv_table values (2, 'two', 22.2, 'twenty-two')");
$dbh -> do ("update csv_table set txt = 'hello;world' num=42.2, blb='foo\nbar\nbaz' where id = 1");

# -------

my $sth = $dbh -> prepare ('insert into csv_table (id, txt, num, blb) values (?,?,?,?)');

for (my $id=3; $id<100; $id++) {
  $sth -> execute ($id, num2en($id), $id**2, num2en_ordinal($id));
}

# -------

$sth = $dbh -> prepare ("select * from csv_table where id % 10 = ?");
$sth -> execute(4); # Print records whose id end in 4.
$sth -> bind_columns( \my ($id, $txt, $num, $blb) );

while ($sth->fetch) {
  printf "  %2i  %20s  %4i  %20s\n", $id, $txt, $num, $blb;
}


say "check $db_dir/csv_table and press a key";

my $dummy = <STDIN>;

$dbh -> do ("drop table csv_table");
</pre><div class='t'> </div><div class='g'></div><div class='t'>
<a href='file:///home/rene/github/github/notes/out.html//development/languages/Perl/modules/index.html'>Perl modules</a>. </div><hr><p><a href='file:///home/rene/github/github/notes/out.html//index.html'>Index</a><div class='bottom'></div></body>
</html>